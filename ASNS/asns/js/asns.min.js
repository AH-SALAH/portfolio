  
//*******************************
//body entry fade event
  /* <![CDATA[ */

  function preloadFunc()
    {
        $('body').addClass('body-intro');
          //$(".loader").delay(20000).fadeOut(1000);

        
    }
    window.onpaint = preloadFunc();


// ****************************

$(document).ready(function() {



  // setTimeout(function(){
    if ( $(window).load() ) {
      setTimeout(function(){
        var rotate = '-90deg';
        var el = $(".loader").css({webkitTransition:'all 0.5s ease-Out',
                                    mozTransition:'all 0.5s ease-Out',
                                    transition:'all 0.5s ease-Out',
                                    transform:'rotate('+rotate+')'});

              $(".loader").animate({el,height:'5%'},1000);
                $(".loader").animate({top:'-200%'},1000);
                  $(".loader").fadeOut(500);

              $('body').removeClass('body-intro');

      },22000);
    }
// },21000);
   
// setTimeout(function(){
//   if ( $(window).load() ) {

//           $('body').removeClass('body-intro');
//     }
// },20000);

/***********************************/



    $(".container-fluid").css("display", "none");
      $(".container-fluid").fadeIn(2000);
    

/**********************/

  $(".side-right .intro-content").click(function(){
    $(".side-right .intro-content object").css({display:"block"});
  });

  $(".back-left").click(function(){
    $(".side-right .intro-content object").css({display:"none"});
  });


/************************************/
//mail icon/li/a fn

  $(".mail").on('click',function(e){
    e.preventDefault();
    $(".mail-wrapper").show( "size","easeInOutExpo",500);
  });

  $(".mail-close-button").on('click',function(e){
    e.preventDefault();
    $(".mail-wrapper").hide( "size","easeInOutExpo",500);
  });

  $(".mr").on('click',function(){
    $(".ml").attr('title','mail another one for me');
  });

   $(".ml").on('click',function(){
    $(".mr").attr('title','mail another one for me');
  });
 
/***********************************/
//*********************************
// niceScroll jq

$(".mail-wrapper").niceScroll({ 
  autohidemode: true,
  cursorcolor: "#dc143c",
  cursorborder:"",
  background: "#4b0082",
  bouncescroll: true,
  boxzoom: false,
  dblclickzoom: true 
});


//****************************************************************************

// =================================
// side expand js

var s_left = $(".side.side-left");
var s_right = $(".side.side-right");
var left_intro = $(".side.side-left .intro-content");
var right_intro = $(".side.side-right .intro-content");
var h1 = $(".intro-content > h1");
var left_a_ex = $(".w-toggle.left .expand");
var right_a_ex = $(".w-toggle.right .expand");
var left_a_comp = $(".w-toggle.left .compress");
var right_a_comp = $(".w-toggle.right .compress");
var left_a_comp_i = $(".w-toggle.left .compress i");
var right_a_comp_i = $(".w-toggle.right .compress i");

// ================================
// right side

function right_hundred_function(){
    s_right.animate({width:'100%'},500);
      right_intro.animate({opacity:'0.5'},200);
        h1.css({pointerEvents:'none',cursor:'not-allowed'});
          right_a_ex.animate({opacity:'0'},200);
            right_a_ex.css({display:'none'});
              right_a_comp.css({display:'block'});
                right_a_comp_i.css({fontSize:'30px'});
                  right_a_comp.animate({right:'2%'},100);
}

function right_fifty_function(){
    s_right.animate({width:'50%'},500);
      right_intro.animate({opacity:'1'},200);
        h1.css({pointerEvents:'auto',cursor:'pointer'});
          right_a_comp.animate({right:'-100%'},200);
            right_a_comp.css({display:'none'});
              right_a_comp_i.css({fontSize:'20px'});
                right_a_ex.animate({opacity:'1'},500);
                  right_a_ex.css({display:'block'},200);
}

right_a_ex.on('click',function(e){
  e.preventDefault();
    right_hundred_function();
});


right_a_comp.on('click',function(e){
    e.preventDefault();
    right_fifty_function();
});
// ==================================
// left side 
// -------------------

function left_hundred_function(){
  s_left.css({zIndex:'101'});
    s_right.css({zIndex:'100'});
      s_left.animate({width:'100%'},500);
        left_intro.animate({opacity:'0.5'},200);
          h1.css({pointerEvents:'none',cursor:'not-allowed'});
            left_a_ex.animate({opacity:'0'},200);
              left_a_ex.css({display:'none'});
                left_a_comp.css({display:'block'});
                  left_a_comp_i.css({fontSize:'30px'});
                    left_a_comp.animate({left:'2%'},100);
}

function left_fifty_function(){
    s_left.animate({width:'50%'},500);
      left_intro.animate({opacity:'1'},200);
        h1.css({pointerEvents:'auto',cursor:'pointer'});
          left_a_comp.animate({left:'-100%'},200);
            left_a_comp.css({display:'none'});
              left_a_comp_i.css({fontSize:'20px'});
                left_a_ex.animate({opacity:'1'},500);
                  left_a_ex.css({display:'block'},200);
                  setTimeout(function(){
                    s_left.css({zIndex:'100'});
                    s_right.css({zIndex:''});
                  },1000); 
}

left_a_ex.on('click',function(e){
  e.preventDefault();
    left_hundred_function();
});


left_a_comp.on('click',function(e){
    e.preventDefault();
    left_fifty_function();
});



// ---------------------------------------------
h1.on('click',function(){
  $(".w-toggle").css({display:'none'});
    s_left.css({zIndex:'101'});
      s_left.animate({width:'50%'},500);
        s_right.animate({width:'50%'},500);
});

$(".back").on('click',function(){
  $(".w-toggle").css({display:'block'});
    setTimeout(function(){
      s_left.css({zIndex:'100'});
      s_right.css({zIndex:''});
    },1000); 
});

  // ------------------------------------
//           right_intro.on('hover',function(){
//           h1.animate({opacity:'1'},200);
//         });
// // ------------------------------------


}); //doc ready close

//****************************************************************************
//video bg js

if ( $(window).width() > 768 ){

var l_Id = $("#left-video-src");
var r_Id = $("#right-video-src");

if (l_Id.length) {

var leftId = $("#left-video-src").val();
var leftStartSec = $("#left-start-value").val();
var leftEndSec = $("#left-end-value").val();


var tag = document.createElement('script');
    tag.src = 'https://www.youtube.com/player_api';
var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
var tv,
    playerDefaults = {autoplay: 0, autohide: 1, modestbranding: 0, rel: 0, showinfo: 0, controls: 0, disablekb: 1, enablejsapi: 0, fs: 0, cc_load_policy: 0, iv_load_policy: 3};
var vid1 = [
      {'videoId': ''+leftId+'', 'startSeconds': ''+leftStartSec+'', 'endSeconds': ''+leftEndSec+'', 'suggestedQuality': 'hd720'},
      // {'videoId': ''+rightId+'', 'startSeconds': ''+rightStartSec+'', 'endSeconds': ''+rightEndSec+'', 'suggestedQuality': 'hd720'},
      // {'videoId': 'VSbIHKs0gEQ', 'startSeconds': 0, 'endSeconds': 240, 'suggestedQuality': 'hd720'},
      // {'videoId': 'QnaMOPYKXR4', 'startSeconds': 19, 'endSeconds': 241, 'suggestedQuality': 'hd720'}
    ],
    randomvid = Math.floor(Math.random() * (vid1.length - 1 + 1));

function onYouTubePlayerAPIReady(){
  tv = new YT.Player('left-yt-video', {events: {'onReady': onPlayerReady, 'onStateChange': onPlayerStateChange}, playerVars: playerDefaults});
}

function onPlayerReady(){
  tv.loadVideoById(vid1[randomvid]);
  tv.mute();
}

function onPlayerStateChange(e) {
  if (e.data === 1){
    $("#left-yt-video").addClass('active');
  } else if (e.data === 0){
    tv.seekTo(vid1[randomvid].startSeconds)
  }
}

function vidRescale(){

  var w = $(window).width()+50,
    h = $(window).height()+50;

  if (w/h > 16/9){
    tv.setSize(w, w/16*9);
    $(".left-video-bg .left-yt-video").css({'left': '0px'});
  } else {
    tv.setSize(h/9*16, h);
    $(".left-video-bg .left-yt-video").css({'left': -($(".left-video-bg .left-yt-video").outerWidth()-w)/2});
  }
}

$(window).on('load resize', function(){
  vidRescale();
});


$(".left-yt-video").on('click', function(){
  $("#left-yt-video").toggleClass('mute');
  if($("#left-yt-video").hasClass('mute')){
    tv.mute();
  } else {
    tv.unMute();
  }
});

//---------------------------------------------

  } // end of first check-exist 
  
  if ( r_Id.length ){


var rightId = $("#right-video-src").val();
var rightStartSec = $("#right-start-value").val();
var rightEndSec = $("#right-end-value").val();


var tag = document.createElement('script');
    tag.src = 'https://www.youtube.com/iframe_api';
var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
var tv1,
    playerDefaults = {autoplay: 0, autohide: 1, modestbranding: 0, rel: 0, showinfo: 0, controls: 0, disablekb: 1, enablejsapi: 0, fs: 0, cc_load_policy: 0, iv_load_policy: 3};
var vid2 = [
      // {'videoId': ''+leftId+'', 'startSeconds': ''+leftStartSec+'', 'endSeconds': ''+leftEndSec+'', 'suggestedQuality': 'hd720'},
      {'videoId': ''+rightId+'', 'startSeconds': ''+rightStartSec+'', 'endSeconds': ''+rightEndSec+'', 'suggestedQuality': 'hd720'},
      // {'videoId': 'VSbIHKs0gEQ', 'startSeconds': 0, 'endSeconds': 240, 'suggestedQuality': 'hd720'},
      // {'videoId': 'QnaMOPYKXR4', 'startSeconds': 19, 'endSeconds': 241, 'suggestedQuality': 'hd720'}
    ],
    randomvid = Math.floor(Math.random() * (vid2.length - 1 + 1));

function onYouTubeIframeAPIReady(){
  tv1 = new YT.Player('right-yt-video', {events: {'onReady': onPlayerReady, 'onStateChange': onPlayerStateChange}, playerVars: playerDefaults});
}

function onPlayerReady(){
  tv1.loadVideoById(vid2[randomvid]);
  tv1.mute();
}

function onPlayerStateChange(e) {
  if (e.data === 1){
    $("#right-yt-video").addClass('active');
  } else if (e.data === 0){
    tv1.seekTo(vid2[randomvid].startSeconds)
  }
}

function vidRescale(){

  var w = $(window).width()+50,
    h = $(window).height()+50;

  if (w/h > 16/9){
    tv1.setSize(w, w/16*9);
    $(".right-video-bg .right-yt-video").css({'left': '0px'});
  } else {
    tv1.setSize(h/9*16, h);
    $(".right-video-bg .right-yt-video").css({'left': -($(".right-video-bg .right-yt-video").outerWidth()-w)/2});
  }
}

$(window).on('load resize', function(){
  vidRescale();
});


$(".right-yt-video").on('click', function(){
  $("#right-yt-video").toggleClass('mute');
  if($("#right-yt-video").hasClass('mute')){
    tv1.mute();
  } else {
    tv1.unMute();
  }
});


  } // end of the second check-exist

} //end the window size check


//****************************************************
// Find all YouTube videos
// var $allVideos = $("iframe[src^='//www.youtube.com']"),

//     // The element that is fluid width
//     $fluidEl = $("#video-bg");

// // Figure out and save aspect ratio for each video
// $allVideos.each(function() {

//   $(this)
//     .data('aspectRatio', this.height / this.width)

//     // and remove the hard coded width/height
//     .removeAttr('height')
//     .removeAttr('width');

// });

// // When the window is resized
// $(window).resize(function() {

//   var newWidth = $fluidEl.width();

//   // Resize all videos according to their own aspect ratio
//   $allVideos.each(function() {

//     var $el = $(this);
//     $el
//       .width(newWidth)
//       .height(newWidth * $el.data('aspectRatio'));

//   });

// Kick off one resize to fix all videos on page load
// }).resize();

// -----------------------------------------------

 




/***********************************/
